.loading-block.text-center(ng-if='loading.isLoading')
  .detail-part
    .spinner.spinner-lg
    | {{:: getLoadingMessage()}}
p.text-center(ng-if='(!system.recommendations || !system.recommendations.length) && !loading.isLoading && !system.__fake && !errorMessage')
  span.icon.icon-inline.success
    i.fa.fa-check-circle
    span(translate) No actions
div(ng-if='!loading.isLoading && !system.__fake && errorMessage', ng-bind-html=':: errorMessage | trust_html')
list-group
  list-item(expandable recommendation='recommendation', rule-id='rule_id', rule-filter='ruleFilter', ng-repeat='recommendation in system.recommendations track by recommendation.rule_id')
    list-item-header-expandable
      .main-info
        strong.title {{:: recommendation.rule.category }} > {{:: recommendation.rule.description }}
        ansible-icon(value='recommendation.rule.ansible' hide-label="true")
      .risk-summaries.card-header-risk-summaries
        ml-severity-icons.inline(rule='recommendation.rule')
        risk-of-change(label='"Optimization Potential:"' change-risk='recommendation.rule.optimization')

      list-item-content.recommendation-expanded-content
        .flex.recommendation-detail
          .detail-part
            h4.section-heading(translate)
              i.fa.fa-crosshairs(aria-hidden="true") &nbsp;
              strong(translate) Detected issues
            .reason
              .detail-content(ng-if="recommendation.rule.reason !== 'INSIGHTS-ERROR-INTERPOLATION'",
              ng-bind-html=':: recommendation.rule.reason | trust_html',
              target-blank='')
              .detail-part
                .detail-content.answer
                  h4.section-heading(translate)
                    i.fa.fa-thumbs-up(aria-hidden="true") &nbsp;
                    strong(translate) Steps to resolve
                  span(ng-if="recommendation.rule.resolution !== 'INSIGHTS-ERROR-INTERPOLATION'",
                  ng-bind-html=':: recommendation.rule.resolution | trust_html',
                  target-blank='')
           .text-center.border-top(ng-show='recommendation.rule.more_info')
        recommendation-graph

    list-item-footer.more-info(collapse="!show.moreInfo")
